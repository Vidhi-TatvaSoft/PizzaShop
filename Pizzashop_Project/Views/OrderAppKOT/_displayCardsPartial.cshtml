@using DAL.ViewModels;
@model List<KotCardDetailsViewModel>

@if (Model.Count != 0)
{
    @foreach (var card in Model)
    {
        if(card.ItemsInOneCard.Sum(x => x.Quantity) != 0)
        {
            <div class="KOTCardClass rounded me-3 border-1"
            style="min-width: fit-content;  border-style: dashed ; border-color: rgb(196, 199, 198);">
            <div class="d-flex" style="background-color: rgb(221, 218, 218);">
                <div class="text-primary fw-bold"># @card.OrderId</div>
                <div class="text-secondary ms-5"><i class="fa-solid fa-clock"></i> 3 days 20 hours 10 min 34 sec
                </div>
            </div>
            <div class="d-flex fw-semibold pt-2 pb-2" style="background-color: rgb(221, 218, 218);">@card.SectionName
                <li class="ms-3">
                    @for (int i = 0; i < card.tableList.Count; i++)
                    {
                        <span> @card.tableList[i].TableName</span>
                        if (i < card.tableList.Count - 1)
                        {

                            <span>,</span>
                        }
                    }
                </li>
            </div>
            <div class="text-secondary ms-2 me-2" style="overflow: auto; height: 150px;">
                @foreach (var item in card.ItemsInOneCard)
                {
                    if(item.Quantity >0){
                        <div class="d-flex justify-content-between">
                            <div>@item.ItemName</div>
                            <div class="text-dark">@item.Quantity</div>
                        </div>
                        @foreach (var modifier in item.ModifiersInItem)
                        {
                            <li class="ms-2">@modifier.ModifierName</li>
                        }
                    }
                }

            </div>
            <div class="d-flex" style="background-color: rgb(221, 218, 218); height: 64px;">
            </div>
        </div>
        }
        
    }

}
